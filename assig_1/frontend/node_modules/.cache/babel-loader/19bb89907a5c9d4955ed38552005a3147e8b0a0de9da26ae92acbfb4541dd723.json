{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[prompt,setPrompt]=useState('');const[response,setResponse]=useState('');const[apiKey,setApiKey]=useState('');const handleSubmit=async e=>{e.preventDefault();setResponse(\"Loading...\");try{var _ref,_data$response;const res=await fetch('/api/chat',{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({prompt,api_key:apiKey})});if(!res.ok){throw new Error(\"HTTP error! status: \".concat(res.status));}const data=await res.json();setResponse((_ref=(_data$response=data.response)!==null&&_data$response!==void 0?_data$response:data.detail)!==null&&_ref!==void 0?_ref:'No response');}catch(error){if(error instanceof Error){setResponse(\"Error: \".concat(error.message));}else{setResponse('Unknown error occurred.');}}};const handlePromptChange=e=>setPrompt(e.target.value);const handleApiKeyChange=e=>setApiKey(e.target.value);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',fontFamily:'sans-serif'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Chat with OpenAI\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your OpenAI API key\",value:apiKey,onChange:handleApiKeyChange,style:{width:'100%',marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"textarea\",{rows:4,placeholder:\"Type your message...\",value:prompt,onChange:handlePromptChange,style:{width:'100%',marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Response:\"}),/*#__PURE__*/_jsx(\"pre\",{children:response})]});};export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","prompt","setPrompt","response","setResponse","apiKey","setApiKey","handleSubmit","e","preventDefault","_ref","_data$response","res","fetch","method","headers","body","JSON","stringify","api_key","ok","Error","concat","status","data","json","detail","error","message","handlePromptChange","target","value","handleApiKeyChange","style","padding","fontFamily","children","onSubmit","type","placeholder","onChange","width","marginBottom","rows"],"sources":["/Users/vipinvijayan/Developer/projects/AI/AIMakerSpace/code/learn_ai_0/assig_1/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, ChangeEvent, FormEvent } from 'react';\n\ninterface ChatResponse {\n  response?: string;\n  detail?: string;\n}\n\nconst App: React.FC = () => {\n  const [prompt, setPrompt] = useState<string>('');\n  const [response, setResponse] = useState<string>('');\n  const [apiKey, setApiKey] = useState<string>('');\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>): Promise<void> => {\n    e.preventDefault();\n    setResponse(\"Loading...\");\n\n    try {\n      const res = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { \n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({ prompt, api_key: apiKey }),\n      });\n\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n\n      const data: ChatResponse = await res.json();\n      setResponse(data.response ?? data.detail ?? 'No response');\n    } catch (error: unknown) {\n      if (error instanceof Error) {\n        setResponse(`Error: ${error.message}`);\n      } else {\n        setResponse('Unknown error occurred.');\n      }\n    }\n  };\n\n  const handlePromptChange = (e: ChangeEvent<HTMLTextAreaElement>) => setPrompt(e.target.value);\n  const handleApiKeyChange = (e: ChangeEvent<HTMLInputElement>) => setApiKey(e.target.value);\n\n  return (\n    <div style={{ padding: '2rem', fontFamily: 'sans-serif' }}>\n      <h1>Chat with OpenAI</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter your OpenAI API key\"\n          value={apiKey}\n          onChange={handleApiKeyChange}\n          style={{ width: '100%', marginBottom: '1rem' }}\n        />\n        <textarea\n          rows={4}\n          placeholder=\"Type your message...\"\n          value={prompt}\n          onChange={handlePromptChange}\n          style={{ width: '100%', marginBottom: '1rem' }}\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n      <h3>Response:</h3>\n      <pre>{response}</pre>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}